(()=>{var e={500:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,r(n)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.React,t=window.wp.plugins,a=window.wp.hooks,o=window.wp.i18n;n(500);const r=window.wp.element,s=window.wp.components,l=window.wc.navigation,i=window.wp.apiFetch;var c=n.n(i);function u(e){return e.startsWith("{{/")?{type:"componentClose",value:e.replace(/\W/g,"")}:e.endsWith("/}}")?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.startsWith("{{")?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}function p(t,n){let a,o,r=[];for(let e=0;e<t.length;e++){const s=t[e];if("string"!==s.type){if(void 0===n[s.value])throw new Error(`Invalid interpolation, missing component node: \`${s.value}\``);if("object"!=typeof n[s.value])throw new Error(`Invalid interpolation, component node must be a ReactElement or null: \`${s.value}\``);if("componentClose"===s.type)throw new Error(`Missing opening component token: \`${s.value}\``);if("componentOpen"===s.type){a=n[s.value],o=e;break}r.push(n[s.value])}else r.push(s.value)}if(a){const s=function(e,t){const n=t[e];let a=0;for(let o=e+1;o<t.length;o++){const e=t[o];if(e.value===n.value){if("componentOpen"===e.type){a++;continue}if("componentClose"===e.type){if(0===a)return o;a--}}}throw new Error("Missing closing component token `"+n.value+"`")}(o,t),l=p(t.slice(o+1,s),n),i=(0,e.cloneElement)(a,{},l);if(r.push(i),s<t.length-1){const e=p(t.slice(s+1),n);r=r.concat(e)}}return r=r.filter(Boolean),0===r.length?null:1===r.length?r[0]:(0,e.createElement)(e.Fragment,null,...r)}const d={button:{get_started:(0,o.__)("Get Started!","budpay"),save_settings:(0,o.__)("Save Configuration","budpay"),test_mode:(0,o.__)("Enable Test mode","budpay")},heading:e=>(0,o.sprintf)(/* translators: %s: first name of the merchant, if it exists, %s: BudPay. */ /* translators: %s: first name of the merchant, if it exists, %s: BudPay. */
(0,o.__)("Hi%s,\n Welcome to %s!","budpay"),e?` ${e}`:"","Budpay"),settings:{general:(0,o.__)("API/Webhook Settings","budpay"),checkout:(0,o.__)("Checkout Settings","budpay")},card:(0,o.__)("Offer card payments","budpay"),sandboxMode:{title:(0,o.__)("Test Mode: I'm setting up a store for someone else.","budpay"),description:(0,o.sprintf)(/* translators: %s: Budpay */ /* translators: %s: Budpay */
(0,o.__)("This option will set up %s in test mode. When you’re ready to launch your store, switching to live payments is easy.","budpay"),"Budpay")},testModeNotice:function(e){const{mixedString:t,components:n,throwErrors:a}=e;if(!n)return t;if("object"!=typeof n){if(a)throw new Error(`Interpolation Error: unable to process \`${t}\` because components is not an object`);return t}const o=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(u)}(t);try{return p(o,n)}catch(e){if(a)throw new Error(`Interpolation Error: unable to process \`${t}\` because of error \`${e.message}\``);return t}}({mixedString:(0,o.__)("Test mode is enabled, only test credentials can be used to make payments. If you want to process live transactions, please {{learnMoreLink}}disable it{{/learnMoreLink}}.","budpay"),components:{learnMoreLink:(0,e.createElement)("a",{href:"#",target:"_blank",rel:"noreferrer"})}}),infoNotice:{button:(0,o.__)("enable collection.","budpay")},infoModal:{title:(0,o.sprintf)(/* translators: %s: Budpay */ /* translators: %s: Budpay */
(0,o.__)("Verifying your information with %s","budpay"),"Budpay")},stepsHeading:(0,o.__)("You’re only steps away from getting paid","budpay"),step1:{heading:(0,o.__)("Create and connect your account","budpay"),description:(0,o.__)("To ensure safe and secure transactions, a WordPress.com account is required.","budpay")},step3:{heading:(0,o.__)("Setup complete!","budpay"),description:(0,o.sprintf)(/* translators: %s: Budpay */ /* translators: %s: Budpay */
(0,o.__)("You’re ready to start using the features and benefits of %s.","budpay"),"Budpay")},onboardingDisabled:(0,o.__)("We've temporarily paused new account creation. We'll notify you when we resume!","budpay"),incentive:{termsAndConditions:t=>(0,r.createInterpolateElement)((0,o.__)("*See <a>Terms and Conditions</a> for details.","budpay"),{a:(0,e.createElement)("a",{href:t,target:"_blank",rel:"noopener noreferrer"})})},nonSupportedCountry:(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: %1$s: Budpay */ /* translators: %1$s: Budpay */
(0,o.__)("<b>%1$s is not currently available in your location</b>.","budpay"),"Budpay"),{b:(0,e.createElement)("b",null),a:(0,e.createElement)("a",{href:"#",target:"_blank",rel:"noopener noreferrer"})})};class m extends r.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){this.props.onError&&this.props.onError(e,t)}render(){return this.state.error?(0,e.createElement)("div",null,(0,o.__)("There was an error rendering this view. Please contact support for assistance if the problem persists.","budpay"),(0,e.createElement)("br",null),this.state.error.toString()):this.props.children}}const y=m,b=({children:t,maxWidth:n,isNarrow:a,className:o=""})=>{const r=n?{maxWidth:n}:void 0,s=[o,"budpay-page"];return a&&s.push("is-narrow"),(0,e.createElement)("div",{className:s.join(" "),style:r},(0,e.createElement)(y,null,t))},g=({labelName:t,initalValue:n,options:a})=>{const[o,r]=(0,e.useState)(n);return(0,e.createElement)(s.SelectControl,{label:t||"{{ No Label Added }}",value:o,options:a,onChange:r})},_=({initialValue:t,labelName:n,onChange:a,isConfidential:o})=>{const r=o||!1,[l,i]=(0,e.useState)(t);return(0,e.useEffect)((()=>{}),[l]),(0,e.createElement)(s.__experimentalInputControl,{label:n||"{{label_name}}",value:l,type:r?"password":"text",onChange:e=>(e=>{a(e),i(e)})(e)})},h="budpay/v1",f="/settings";c()({path:h+f}).then((e=>console.log(e)));const v=()=>{const t=budpayData?.budpay_defaults,[n,a]=(0,r.useState)(!1),o=wcSettings.admin?.currentUserData?.first_name||"there",l=budpayData?.budpay_logo,[i,u]=(0,r.useState)(t),[p,m]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1);let E={};""!=o&&(E.whiteSpaceCollapse="preserve-breaks");const w=(e,t)=>{u((n=>({...n,[e]:t})))};return(0,e.createElement)(r.Fragment,null,(0,e.createElement)(b,{isNarrow:!0},(0,e.createElement)(s.Card,{className:"budpay-page-banner"},(0,e.createElement)("div",{className:"bupay-page__heading"},(0,e.createElement)("img",{className:"budpay__settings_logo",alt:"budpay-logo",src:l,id:"budpay__settings_logo"}),(0,e.createElement)("h2",{className:"budpay-font-heading",style:{marginLeft:"15px",...E}},d.heading(o))),(0,e.createElement)("div",{className:"budpay-page__buttons"},(0,e.createElement)(s.Button,{variant:"primary",isBusy:!1,disabled:p,onClick:()=>{a(!0),m(!1)}},d.button.get_started))),(0,e.createElement)(s.Panel,{className:"budpday-page__general_settings-panel"},(0,e.createElement)(s.PanelBody,{title:d.settings.general,initialOpen:n},(0,e.createElement)("div",{className:"budpday-settings__general"},(0,e.createElement)(s.ToggleControl,{checked:"yes"==i.enabled,label:"Enable Budpay",onChange:()=>u((e=>({...e,enabled:"yes"===e.enabled?"no":"yes"})))}),(0,e.createElement)("div",{className:"budpday-settings__inputs"},(0,e.createElement)(_,{labelName:"Secret Key",initialValue:i.live_secret_key,onChange:e=>{w("live_secret_key",e)},isConfidential:!0}),(0,e.createElement)(_,{labelName:"Public Key",initialValue:i.live_public_key,onChange:e=>{w("live_public_key",e)}})),(0,e.createElement)(s.__experimentalText,{className:"budpay-webhook-link",numberOfLines:1},"https://8000-bajoski34-budpay-dc8esoaz6is.ws-eu110.gitpod.io/?wc-api=Budpay_Payment_Webhook"),(0,e.createElement)(s.__experimentalText,{className:"budpay-webhook-instructions",numberOfLines:1},"Please add this webhook URL and paste on the webhook section on your dashboard.")),(0,e.createElement)("div",{className:"budpay-settings-btn-center"},(0,e.createElement)(s.Button,{className:"budpay-settings-cta",variant:"secondary",isBusy:!1,disabled:!1,onClick:()=>{c()({path:h+f,method:"POST",data:i}).then((e=>{console.log("Settings saved successfully:",e)})).catch((e=>{console.error("Error saving settings:",e)}))}},d.button.save_settings)))),(0,e.createElement)(s.Panel,{className:"budpay-page__checkout_settings-panel"},(0,e.createElement)(s.PanelBody,{title:d.settings.checkout,initialOpen:!1},(0,e.createElement)("div",{className:"budpday-settings__inputs"},(0,e.createElement)(s.CheckboxControl,{checked:"yes"==i.autocomplete_order,help:"should we complete the order on a confirmed payment?",label:"Autocomplete Order After Payment",onChange:()=>u((e=>({...e,autocomplete_order:"yes"===e.autocomplete_order?"no":"yes"})))}),(0,e.createElement)(_,{labelName:"Payment method Title",initialValue:i.title}),(0,e.createElement)(g,{labelName:"Payment Style on Checkout",initialValue:i.payment_style,options:[{label:"Redirect",value:"redirect"}]})),(0,e.createElement)("div",{className:"budpay-settings-btn-center"},(0,e.createElement)(s.Button,{className:"budpay-settings-cta",variant:"secondary",isBusy:!1,disabled:!1,onClick:()=>{c()({path:h+f,method:"POST",data:i}).then((e=>{console.log("Settings saved successfully:",e)})).catch((e=>{console.error("Error saving settings:",e)}))}},d.button.save_settings)))),(0,e.createElement)(s.Panel,{className:"budpay-page__sandbox-mode-panel"},(0,e.createElement)(s.PanelBody,{title:d.sandboxMode.title,initialOpen:!1},(0,e.createElement)("p",null,d.sandboxMode.description),(0,e.createElement)("div",{className:"budpday-settings__inputs"},(0,e.createElement)(_,{labelName:"Test Secret Key",initialValue:i.test_secret_key,onChange:e=>{w("test_secret_key",e)},isConfidential:!0}),(0,e.createElement)(_,{labelName:"Test Public Key",initialValue:i.test_public_key,onChange:e=>{w("test_public_key",e)}})),(0,e.createElement)(s.Button,{className:"budpay-settings-cta",variant:"secondary",isBusy:!1,disabled:!1,onClick:()=>{c()({path:h+f,method:"POST",data:i}).then((e=>{console.log("Settings saved successfully:",e)})).catch((e=>{console.error("Error saving settings:",e)}))}},d.button.test_mode)))))};(0,a.addFilter)("woocommerce_admin_pages_list","budpay",(e=>(e.push({container:v,path:"/budpay",wpOpenMenu:"toplevel_page_woocommerce",breadcrumbs:["Budpay"]}),e))),(0,t.registerPlugin)("my-plugin",{render:()=>(0,e.createElement)(l.WooNavigationItem,{parentMenu:"budpay-root",item:"budpay-1"},(0,e.createElement)("a",{className:"components-button",href:"https://budpay.com/1"},"BudPay"))})})()})();